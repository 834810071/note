[Unix环境高级编程](https://github.com/834810071/note/blob/master/APUE/README.md)
=================================
# 第一章 UNIX基础知识
## 1.2 登录
### 1.2.1 登录名
>> 口令文件: /etc/passwd文件中查看登录名。分别是登录名，加密口令，数字用户ID(224)，数字组ID(20)，注释字段，起始目录(/home/stevens)，以及shell程序(/bin/ksh)。

### 1.2.2 shell
>> shell是一个命令行解释器。系统从口令文件中登录项的最后一个字段中了解到应该执行哪一个shell。

## 1.3 文件和目录
### 1.3.1 文件系统
>> 目录是一个包含目录项的文件。文件的属性：文件类型、文件长度、文件所有者，文件许可权，文件的最后修改时间等。    
 
>> stat函数返回一个包含所有文件属性的信息结构。

### 1.3.2 文件名
>> 当创建一个新目录时，自动创建了两个文件名： . 和 ..

### 1.3.3 路径名

## 1.4 输入和输出
### 1.4.1 文件描述符
>> 文件描述符是一个小的非负整数，内核用以标识一个特定进程正在访存的文件。

### 1.4.2 [标准输入、标准输出和标准出错](https://www.jianshu.com/p/bce6810b7c27)

### 1.4.3 [不用缓存的I/O](https://blog.51cto.com/4983206/1142074)
>>函数open、read、write、lseek以及close提供了不用缓存的I/O。

## 1.5 程序和进程
### 1.5.1 程序
>> 程序是存放在磁盘文件中的可执行文件。使用6个exec函数中的一个由内核将程序读入存储器，并使其执行。

### 1.5.2 进程和进程ID
>> 程序的执行实例被称为进程。

## 1.6 ANSI C
### 1.6.2 类属指针
>> ANSI C使用void* 作为类属指针来代替char*。

## 1.10 UNIX时间值
>> UNIX系统的两种不同时间值：   
>> (1) 日历时间。    
>> (2) 进程时间。也称为CPU时间，用以度量进程使用的中央处理机资源。  

>> 当度量一个进程的执行时间时，UNIX系统使用三个进程时间值：
>> * 时钟时间   进程运行的时间总量
>> * 用户CPU时间
>> * 系统CPU时间

>> 用户CPU时间是执行用户指令所用的时间量。系统CPU时间是为该进程执行内核所经历的时间。  用户CPU时间和系统CPU时间总和就是CPU时间。

## 1.11 系统调用和库函数

第2章 UNIX标准化及实现没看

# 第3章 文件I/O
>> 不带缓存指的是每个read和write都调用内核中的一个系统调用。

## 3.10 文件共享
>>(1) 每个进程在进程表中都有一个记录项，每个记录项中有一张打开的文件描述符表，可将其视为一个矢量，每个文件描述符占一项。与每个文件描述符相关联的是：   (a) 文件描述符标志。    (b) 指向一个文件表项的指针。  
>>(2) 内核为所有打开文件维持一张文件表。每个文件表项包含：  (a)文件状态标志(读、写、增写、同步、非阻塞等)。   (b) 当前文件位移量。   (c) 指向该文件v节点表项指针。     
>>(3) 每个打开文件都有一个v节点结构。  i节点：索引节点，包含文件所有者，文件长度，文件所在的设备，指向文件在盘上所使用的实际数据块指针等等。

![打开文件的内核数据结构](https://github.com/834810071/note/blob/master/APUE/12535952-0ea98ec2dbc1ef7e.png "打开文件的内核数据结构")

>> 可能有多个文件描述符指向同一文件表项。

>> 文件描述符标志和文件状态标志，前者只用于一个进程的一个描述符，后者适用于指向该给定文件表项的任何进程中的所有描述符。    

## 3.11 原子操作

## 3.13 fcntl函数
>>fcntl函数可以改变已经打开文件的性质。  
>>fcntl函数有五种功能：   
>> * 复制一个现存的描述符（cmd = F_DUPFD）。   
>> * 获得/设置文件描述符标记（cmd = F_GETFD或F_SETFD）。
>> * 获得/设置文件状态标记（cmd = F_GETFL或F_SETFL）。
>> * 获得/设置异步I/O有权(cmd = F_GETOWN或F_SETOWN)。
>> * 获得/设置记录锁(cmd = F_GETTLK,F_SETTLK或F_SETLKW)。

# 第4章 文件和目录
## 4.2 stat、fstat和lstat函数
## 4.3 文件类型
>> (1) 普通文件 (2) 目录文件 (3) 字符特殊文件 (4) 块特殊文件 (5) FIFO。用于进程间通信，也称为命名管道 (6) 套接口 (7) 符号连接